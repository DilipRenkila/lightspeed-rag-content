Running real-time workloads

You can configure an Red Hat OpenShift Container Platform cluster to run real-time virtual machine (VM) workloads that require low and predictable latency. Red Hat OpenShift Container Platform provides the Node Tuning Operator to implement automatic tuning for real-time and low latency workloads.
Configuring a cluster for real-time workloads
You can configure an Red Hat OpenShift Container Platform cluster to run real-time workloads.

You have access to the cluster as a user with cluster-admin permissions.

You have installed the OpenShift CLI (oc).

You have installed the Node Tuning Operator.


Label a subset of the compute nodes with a custom role, for example, worker-realtime:

Create a new MachineConfigPool manifest that contains the worker-realtime label in the spec.machineConfigSelector object:

If you created a new MachineConfigPool manifest in step 2, apply it to the cluster by using the following command:

Create a PerformanceProfile manifest that applies to the labeled nodes and the machine config pool that you created in the previous steps:

Apply the PerformanceProfile manifest:

Retrieve the name of the generated RuntimeClass resource from the status.runtimeClass field of the PerformanceProfile object:

Set the previously obtained RuntimeClass name as the default container runtime class for the virt-launcher pods by editing the HyperConverged custom resource (CR):

If your real-time-enabled compute nodes use simultaneous multithreading (SMT), enable the alignCPUs feature gate by editing the HyperConverged CR:
Configuring a virtual machine for real-time workloads
You can configure a virtual machines (VM) to run real-time workloads.

Your cluster is configured to run real-time workloads.

You have installed the virtctl tool.


Create a VirtualMachine manifest to include information about CPU topology, CRI-O annotations, and huge pages:

Apply the VirtualMachine manifest:

Configure the guest operating system. The following example shows the configuration steps for a RHEL 8 operating system:

Restart the VM to apply the changes.
Additional resources
Using the Node Tuning Operator

Provisioning real-time and low latency workloads

Reducing NIC queues using the Node Tuning Operator