# Cluster [cluster.x-k8s.io/v1beta1]


Description:: 
Cluster is the Schema for the clusters API.
Type:: object

# Specification



## .spec

Description:: 
ClusterSpec defines the desired state of Cluster.
Type:: object



## .spec.clusterNetwork

Description:: 
Cluster network configuration.
Type:: object



## .spec.clusterNetwork.pods

Description:: 
The network ranges from which Pod networks are allocated.
Type:: object
Required:: 
* cidrBlocks



## .spec.clusterNetwork.services

Description:: 
The network ranges from which service VIPs are allocated.
Type:: object
Required:: 
* cidrBlocks



## .spec.controlPlaneEndpoint

Description:: 
ControlPlaneEndpoint represents the endpoint used to communicate with the control plane.
Type:: object
Required:: 
* host
* port



## .spec.controlPlaneRef

Description:: 
ControlPlaneRef is an optional reference to a provider-specific resource that holds
the details for provisioning the Control Plane for a Cluster.
Type:: object



## .spec.infrastructureRef

Description:: 
InfrastructureRef is a reference to a provider-specific resource that holds the details
for provisioning infrastructure for a cluster in said provider.
Type:: object



## .spec.topology

Description:: 
This encapsulates the topology for the cluster.
NOTE: It is required to enable the ClusterTopology
feature gate flag to activate managed topologies support;
this feature is highly experimental, and parts of it might still be not implemented.
Type:: object
Required:: 
* class
* version



## .spec.topology.controlPlane

Description:: 
ControlPlane describes the cluster control plane.
Type:: object



## .spec.topology.controlPlane.machineHealthCheck

Description:: 
MachineHealthCheck allows to enable, disable and override
the MachineHealthCheck configuration in the ClusterClass for this control plane.
Type:: object



## .spec.topology.controlPlane.machineHealthCheck.remediationTemplate

Description:: 
RemediationTemplate is a reference to a remediation template
provided by an infrastructure provider.
This field is completely optional, when filled, the MachineHealthCheck controller
creates a new object from the template referenced and hands off remediation of the machine to
a controller that lives outside of Cluster API.
Type:: object



## .spec.topology.controlPlane.machineHealthCheck.unhealthyConditions

Description:: 
UnhealthyConditions contains a list of the conditions that determine
whether a node is considered unhealthy. The conditions are combined in a
logical OR, i.e. if any of the conditions is met, the node is unhealthy.
Type:: array

## .spec.topology.controlPlane.machineHealthCheck.unhealthyConditions[]

Description:: 
UnhealthyCondition represents a Node condition type and value with a timeout
specified as a duration.  When the named condition has been in the given
status for at least the timeout value, a node is considered unhealthy.
Type:: object
Required:: 
* status
* timeout
* type



## .spec.topology.controlPlane.metadata

Description:: 
Metadata is the metadata applied to the ControlPlane and the Machines of the ControlPlane
if the ControlPlaneTemplate referenced by the ClusterClass is machine based. If not, it
is applied only to the ControlPlane.
At runtime this metadata is merged with the corresponding metadata from the ClusterClass.
Type:: object



## .spec.topology.variables

Description:: 
Variables can be used to customize the Cluster through
patches. They must comply to the corresponding
VariableClasses defined in the ClusterClass.
Type:: array

## .spec.topology.variables[]

Description:: 
ClusterVariable can be used to customize the Cluster through patches. Each ClusterVariable is associated with a
Variable definition in the ClusterClass status variables.
Type:: object
Required:: 
* name
* value



## .spec.topology.workers

Description:: 
Workers encapsulates the different constructs that form the worker nodes
for the cluster.
Type:: object



## .spec.topology.workers.machineDeployments

Description:: 
MachineDeployments is a list of machine deployments in the cluster.
Type:: array

## .spec.topology.workers.machineDeployments[]

Description:: 
MachineDeploymentTopology specifies the different parameters for a set of worker nodes in the topology.
This set of nodes is managed by a MachineDeployment object whose lifecycle is managed by the Cluster controller.
Type:: object
Required:: 
* class
* name



## .spec.topology.workers.machineDeployments[].machineHealthCheck

Description:: 
MachineHealthCheck allows to enable, disable and override
the MachineHealthCheck configuration in the ClusterClass for this MachineDeployment.
Type:: object



## .spec.topology.workers.machineDeployments[].machineHealthCheck.remediationTemplate

Description:: 
RemediationTemplate is a reference to a remediation template
provided by an infrastructure provider.
This field is completely optional, when filled, the MachineHealthCheck controller
creates a new object from the template referenced and hands off remediation of the machine to
a controller that lives outside of Cluster API.
Type:: object



## .spec.topology.workers.machineDeployments[].machineHealthCheck.unhealthyConditions

Description:: 
UnhealthyConditions contains a list of the conditions that determine
whether a node is considered unhealthy. The conditions are combined in a
logical OR, i.e. if any of the conditions is met, the node is unhealthy.
Type:: array

## .spec.topology.workers.machineDeployments[].machineHealthCheck.unhealthyConditions[]

Description:: 
UnhealthyCondition represents a Node condition type and value with a timeout
specified as a duration.  When the named condition has been in the given
status for at least the timeout value, a node is considered unhealthy.
Type:: object
Required:: 
* status
* timeout
* type



## .spec.topology.workers.machineDeployments[].metadata

Description:: 
Metadata is the metadata applied to the MachineDeployment and the machines of the MachineDeployment.
At runtime this metadata is merged with the corresponding metadata from the ClusterClass.
Type:: object



## .spec.topology.workers.machineDeployments[].strategy

Description:: 
The deployment strategy to use to replace existing machines with
new ones.
Type:: object



## .spec.topology.workers.machineDeployments[].strategy.rollingUpdate

Description:: 
Rolling update config params. Present only if
MachineDeploymentStrategyType = RollingUpdate.
Type:: object



## .spec.topology.workers.machineDeployments[].variables

Description:: 
Variables can be used to customize the MachineDeployment through patches.
Type:: object



## .spec.topology.workers.machineDeployments[].variables.overrides

Description:: 
Overrides can be used to override Cluster level variables.
Type:: array

## .spec.topology.workers.machineDeployments[].variables.overrides[]

Description:: 
ClusterVariable can be used to customize the Cluster through patches. Each ClusterVariable is associated with a
Variable definition in the ClusterClass status variables.
Type:: object
Required:: 
* name
* value



## .spec.topology.workers.machinePools

Description:: 
MachinePools is a list of machine pools in the cluster.
Type:: array

## .spec.topology.workers.machinePools[]

Description:: 
MachinePoolTopology specifies the different parameters for a pool of worker nodes in the topology.
This pool of nodes is managed by a MachinePool object whose lifecycle is managed by the Cluster controller.
Type:: object
Required:: 
* class
* name



## .spec.topology.workers.machinePools[].metadata

Description:: 
Metadata is the metadata applied to the MachinePool.
At runtime this metadata is merged with the corresponding metadata from the ClusterClass.
Type:: object



## .spec.topology.workers.machinePools[].variables

Description:: 
Variables can be used to customize the MachinePool through patches.
Type:: object



## .spec.topology.workers.machinePools[].variables.overrides

Description:: 
Overrides can be used to override Cluster level variables.
Type:: array

## .spec.topology.workers.machinePools[].variables.overrides[]

Description:: 
ClusterVariable can be used to customize the Cluster through patches. Each ClusterVariable is associated with a
Variable definition in the ClusterClass status variables.
Type:: object
Required:: 
* name
* value



## .status

Description:: 
ClusterStatus defines the observed state of Cluster.
Type:: object



## .status.conditions

Description:: 
Conditions defines current service state of the cluster.
Type:: array

## .status.conditions[]

Description:: 
Condition defines an observation of a Cluster API resource operational state.
Type:: object
Required:: 
* lastTransitionTime
* status
* type



## .status.failureDomains

Description:: 
FailureDomains is a slice of failure domain objects synced from the infrastructure provider.
Type:: object

## .status.failureDomains{}

Description:: 
FailureDomainSpec is the Schema for Cluster API failure domains.
It allows controllers to understand how many failure domains a cluster can optionally span across.
Type:: object



# API endpoints

The following API endpoints are available:

* /apis/cluster.x-k8s.io/v1beta1/clusters
* GET: list objects of kind Cluster
* /apis/cluster.x-k8s.io/v1beta1/namespaces/{namespace}/clusters
* DELETE: delete collection of Cluster
* GET: list objects of kind Cluster
* POST: create a Cluster
* /apis/cluster.x-k8s.io/v1beta1/namespaces/{namespace}/clusters/{name}
* DELETE: delete a Cluster
* GET: read the specified Cluster
* PATCH: partially update the specified Cluster
* PUT: replace the specified Cluster
* /apis/cluster.x-k8s.io/v1beta1/namespaces/{namespace}/clusters/{name}/status
* GET: read status of the specified Cluster
* PATCH: partially update status of the specified Cluster
* PUT: replace status of the specified Cluster

## /apis/cluster.x-k8s.io/v1beta1/clusters

HTTP method:: GET
Description:: list objects of kind Cluster



## /apis/cluster.x-k8s.io/v1beta1/namespaces/{namespace}/clusters

HTTP method:: DELETE
Description:: delete collection of Cluster



HTTP method:: GET
Description:: list objects of kind Cluster



HTTP method:: POST
Description:: create a Cluster







## /apis/cluster.x-k8s.io/v1beta1/namespaces/{namespace}/clusters/{name}



HTTP method:: DELETE
Description:: delete a Cluster





HTTP method:: GET
Description:: read the specified Cluster



HTTP method:: PATCH
Description:: partially update the specified Cluster





HTTP method:: PUT
Description:: replace the specified Cluster







## /apis/cluster.x-k8s.io/v1beta1/namespaces/{namespace}/clusters/{name}/status



HTTP method:: GET
Description:: read status of the specified Cluster



HTTP method:: PATCH
Description:: partially update status of the specified Cluster





HTTP method:: PUT
Description:: replace status of the specified Cluster





