# Red Hat OpenShift Container Platform 4.17 release notes


Red Hat Red Hat OpenShift Container Platform provides developers and IT organizations with a hybrid cloud application platform for deploying both new and existing applications on secure, scalable resources with minimal configuration and management. Red Hat OpenShift Container Platform supports a wide selection of programming languages and frameworks, such as Java, JavaScript, Python, Ruby, and PHP.
Built on Red Hat Enterprise Linux (RHEL) and Kubernetes, Red Hat OpenShift Container Platform provides a more secure and scalable multitenant operating system for today's enterprise-class applications, while delivering integrated application runtimes and libraries. Red Hat OpenShift Container Platform enables organizations to meet security, privacy, compliance, and governance requirements.

# About this release

Red Hat OpenShift Container Platform (RHSA-2024:XXXX) is now available. This release uses Kubernetes 1.30 with CRI-O runtime. New features, changes, and known issues that pertain to Red Hat OpenShift Container Platform 4.17 are included in this topic.

Red Hat OpenShift Container Platform 4.17 clusters are available at https://console.redhat.com/openshift. With the Red Hat OpenShift Cluster Manager application for Red Hat OpenShift Container Platform, you can deploy Red Hat OpenShift Container Platform clusters to either on-premises or cloud environments.

Red Hat OpenShift Container Platform 4.17 is supported on Red Hat Enterprise Linux (RHEL) 8.8-8.10, and on Red Hat Enterprise Linux CoreOS (RHCOS) 9.4.

You must use RHCOS machines for the control plane, and you can use either RHCOS or RHEL for compute machines. RHEL machines are deprecated in Red Hat OpenShift Container Platform 4.16 and will be removed in a future release.

The support lifecycle for odd-numbered releases, such as Red Hat OpenShift Container Platform 4.17, on all supported architectures, including x86_64, 64-bit ARM (aarch64), IBM Power&#174; (ppc64le), and IBM Z&#174; (s390x) architectures is 18 months.
For more information about support for all versions, see the Red Hat Red Hat OpenShift Container Platform Life Cycle Policy.

Commencing with the Red Hat OpenShift Container Platform 4.14 release, Red&#160;Hat is simplifying the administration and management of Red&#160;Hat shipped cluster Operators with the introduction of three new life cycle classifications; Platform Aligned, Platform Agnostic, and Rolling Stream. These life cycle classifications provide additional ease and transparency for cluster administrators to understand the life cycle policies of each Operator and form cluster maintenance and upgrade plans with predictable support boundaries. For more information, see OpenShift Operator Life Cycles.

Red Hat OpenShift Container Platform is designed for FIPS. When running Red Hat Enterprise Linux (RHEL) or Red Hat Enterprise Linux CoreOS (RHCOS) booted in FIPS mode, Red Hat OpenShift Container Platform core components use the RHEL cryptographic libraries that have been submitted to NIST for FIPS 140-2/140-3 Validation on only the x86_64, ppc64le, and s390x architectures.

For more information about the NIST validation program, see Cryptographic Module Validation Program. For the latest NIST status for the individual versions of RHEL cryptographic libraries that have been submitted for validation, see Compliance Activities and Government Standards.

# Red Hat OpenShift Container Platform layered and dependent component support and compatibility

The scope of support for layered and dependent components of Red Hat OpenShift Container Platform changes independently of the Red Hat OpenShift Container Platform version. To determine the current support status and compatibility for an add-on, refer to its release notes. For more information, see the Red Hat Red Hat OpenShift Container Platform Life Cycle Policy.

# New features and enhancements

This release adds improvements related to the following components and concepts:

## Red Hat Enterprise Linux CoreOS (RHCOS)



## Installation and update



## Postinstallation configuration



## Web console

### Administrator perspective

This release introduces the following updates to the Administrator perspective of the web console:

### Developer Perspective

This release introduces the following updates to the Developer perspective of the web console:

## OpenShift CLI (oc)



## IBM Z and IBM LinuxONE

With this release, IBM Z&#174; and IBM&#174; LinuxONE are now compatible with Red Hat OpenShift Container Platform 4.17. You can perform the installation with z/VM, LPAR, or Red Hat Enterprise Linux (RHEL) Kernel-based Virtual Machine (KVM). For installation instructions, see
Preparing to install on IBM Z and IBM LinuxONE.


[IMPORTANT]
----
Compute nodes must run Red Hat Enterprise Linux CoreOS (RHCOS).
----

## IBM Power

IBM Power&#174; is now compatible with Red Hat OpenShift Container Platform 4.17. For installation instructions, see the following documentation:

* Installing a cluster on IBM Power(R)
* Installing a cluster on IBM Power(R) in a restricted network


[IMPORTANT]
----
Compute nodes must run Red Hat Enterprise Linux CoreOS (RHCOS).
----

## IBM Power notable enhancements

The IBM Power&#174; release on Red Hat OpenShift Container Platform 4.17 adds improvements and new capabilities to Red Hat OpenShift Container Platform components.

## IBM Power, IBM Z, and IBM LinuxONE support matrix

Starting in Red Hat OpenShift Container Platform 4.14, Extended Update Support (EUS) is extended to the IBM Power&#174; and the IBM Z&#174; platform. For more information, see the OpenShift EUS Overview.





1. Persistent shared storage must be provisioned by using either Red Hat OpenShift Data Foundation or other supported storage protocols.
2. Persistent non-shared storage must be provisioned by using local storage, such as iSCSI, FC, or by using LSO with DASD, FCP, or EDEV/FBA.







## Authentication and authorization



## Networking

### New PTP fast events REST API version 2 available

A new PTP fast events O-RAN Release 3 compliant REST API version 2 is available.
Now, you can develop PTP event consumer applications that receive host hardware PTP events directly from the PTP Operator-managed pod.
The PTP fast events REST API v1 will be deprecated in a future release.


[NOTE]
----
In O-RAN O-Cloud Notification API Specification for Event Consumers 3.0, the resource is defined as a hierarchical path for the subsystem that produces the notifications.
The PTP events REST API v2 does not have a global subscription for all lower hierarchy resources contained in the resource path.
You subscribe consumer applications to the various available event types separately.
----

For more information, see Developing PTP event consumer applications with the REST API v2.

### Automatic leap seconds handling for PTP grandmaster clocks

The PTP Operator now automatically updates the leap second file by using Global Positioning System (GPS) announcements.

Leap second information is stored in an automatically generated ConfigMap resource named leap-configmap in the openshift-ptp namespace.

For more information, see Configuring dynamic leap seconds handling for PTP grandmaster clocks.

### NIC partitioning for SR-IOV devices (Generally Available)

With this update, the ability to enable NIC partitioning for Single Root I/O Virtualization (SR-IOV) devices at install time is Generally Available.

For more information, see NIC partitioning for SR-IOV devices.

### Host network settings for SR-IOV VFs (Generally Available)

With this update, the ability to update host network settings for Single Root I/O Virtualization (SR-IOV) network virtual functions in an existing cluster is Generally Available.

For more information, see Node network configuration policy for virtual functions.

## Registry

### New chunkSizeMiB configuration parameter for S3 registry storage

A new, optional configuration parameter, chunkSizeMiB, is now available for deployments using S3 API-compatible backend storage. When configured, it determines the size of the multipart upload chunks for the S3 API. The default value is 10 MiB, with a minimum of 5 MiB.

For more information, see Image Registry Operator configuration parameters for AWS S3.

## Storage



## Oracle(R) Cloud Infrastructure



## Operator lifecycle



## Operator development



## Builds



## Machine Config Operator



## Control plane TLS security profiles supported by the MCO

The Machine Config Operator (MCO) and Machine Config Server now use the TLS security profile that is configured for the control plane components. For more information, see Configuring the TLS security profile for the control plane.

## Updated boot images for AWS now supported (Technology Preview)

Updated boot images are now supported as a Technology Preview feature for Amazon Web Services (AWS) clusters. This feature allows you configure your cluster to update the node boot image whenever you update your cluster. By default, the boot image in your cluster is not updated along with your cluster. For more information, see Updated boot images.

## Updated boot images for GCP clusters promoted to GA

Updated boot images has been promoted to GA for Google Cloud Platform (GCP) clusters. For more information, see Updated boot images.

## Node disruption policies promoted to GA

Node disruption policies for Google Cloud Platform (GCP) clusters has been promoted to GA. A node disruption policy allows you to define a set of Ignition config objects changes that would require little or no disruption to your workloads. For more information, see Using node disruption policies to minimize disruption from machine config changes.

## Machine management

### Configuring Capacity Reservation by using machine sets

Red Hat OpenShift Container Platform release 4.17 introduces support for on-demand Capacity Reservation with Capacity Reservation groups on Microsoft Azure clusters.
For more information, see Configuring Capacity Reservation by using machine sets for compute or control plane machine sets.

## Nodes



## New flags added for must-gather command

Red Hat OpenShift Container Platform release 4.17 adds two new flags for use with the oc adm must-gather command to limit the timespan of the information gathered. Only one of the following flags can be used at a time. Plugins are encouraged but not required to support these flags.

* --since: Only return logs newer than a relative duration, such as 5s, 2m, or 3h. Defaults to all logs.
* --since-time: Only return logs after a specific date, expressed in the RFC3339 format. Defaults to all logs.

For a full list of flags to use with the oc adm must-gather command, see Must-gather flags.

## Monitoring

### Network Observability Operator

The Network Observability Operator releases updates independently from the Red Hat OpenShift Container Platform minor version release stream. Updates are available through a single, Rolling Stream which is supported on all currently supported versions of Red Hat OpenShift Container Platform 4. Information regarding new features, enhancements, and bug fixes for the Network Observability Operator is found in the Network Observability release notes.

## Scalability and performance



## Edge computing



## Hosted control planes



## Insights Operator



## Security

### Automatic rotation of signer certificates

With this release, all etcd certificates originate from a new namespace: openshift-etcd. When a new signer certificate is close to its expiration date, the following actions occur:

1. An automatic rotation of the signer certificate activates.
2. The certificate bundle updates.
3. All certificates regenerate with the new signers.

Manual rotation of signer certificates is still supported by deleting the specific secret and waiting for the status pod rollout to complete.

# Notable technical changes

Red Hat OpenShift Container Platform 4.17 introduces the following notable technical changes:

# Deprecated and removed features

Some features available in previous releases have been deprecated or removed.

Deprecated functionality is still included in Red Hat OpenShift Container Platform and continues to be supported; however, it will be removed in a future release of this product and is not recommended for new deployments. For the most recent list of major functionality deprecated and removed within Red Hat OpenShift Container Platform 4.17, refer to the table below. Additional details for more functionality that has been deprecated and removed are listed after the table.

In the following tables, features are marked with the following statuses:

* Not Available
* Technology Preview
* General Availability
* Deprecated
* Removed

## Operator lifecycle and development deprecated and removed features



## Images deprecated and removed features



## Monitoring deprecated and removed features



## Installation deprecated and removed features



## Updating clusters deprecated and removed features



## Machine management deprecated and removed features



## Storage deprecated and removed features



## Specialized hardware and driver enablement deprecated and removed features



## Networking deprecated and removed features



## Web console deprecated and removed features



## Node deprecated and removed features



## OpenShift CLI (oc) deprecated and removed features



## Workloads deprecated and removed features



## Bare metal monitoring deprecated and removed features



## Deprecated features



## Removed features

### Bare Metal Event Relay Operator (BMER)

BMER was deprecated in Red Hat OpenShift Container Platform version 4.15 and 4.16. With this release, BMER is no longer supported and the related BMER content is removed from the documentation.

## Notice of future deprecation



# Bug fixes

## API Server and Authentication

## Bare Metal Hardware Provisioning

## Builds

## Cloud Compute

## Cloud Credential Operator

## Cluster Version Operator

## Developer Console

## etcd Cluster Operator

## Hosted control planes

## Image Registry

* In Red Hat OpenShift Container Platform 4.14, installing a cluster with Azure AD Workload Identity was made generally available. With that feature, administrators can configure a Microsoft Azure cluster to use Azure AD Workload Identity. With Azure AD Workload Identity, cluster components use temporary security credentials that are managed outside of the cluster.

Previously, when Red Hat OpenShift Container Platform was deployed on Azure clusters with Azure AD Workload Identity, storage accounts created for the cluster and the image registry had Storage Account Key Access enabled by default, which could pose security risks to the deployment.

With this update, shared access keys are disabled by default on new installations that use Azure AD Workload Identity, enhancing security by preventing the use of shared access keys.

[IMPORTANT]
----
Shared access keys should only be disabled if the cluster is configured to use Azure AD Workload Identity. Disabling shared access keys on a cluster not configured with Azure AD Workload Identity can cause the Image Registry Operator to become degraded.
----

For existing storage accounts created before this update, shared access keys are not automatically disabled. Administrators must manually disable shared access key support on these storage accounts to prevent the use of shared keys. For more information about disabling shared access keys, see Prevent Shared Key authorization for an Azure Storage account.

(OCPBUGS-39428)

## Installer

## Insights Operator

## Kubernetes Controller Manager

## Kubernetes Scheduler

## Machine Config Operator

## Management Console

## Monitoring

## Networking

## Node

## Node Tuning Operator (NTO)

## OpenShift CLI (oc)

## Operator Lifecycle Manager (OLM)

## OpenShift API server

## Red Hat Enterprise Linux CoreOS (RHCOS)

## Scalability and performance

## Storage

## Windows containers

# Technology Preview features status

Some features in this release are currently in Technology Preview. These experimental features are not intended for production use. Note the following scope of support on the Red&#160;Hat Customer Portal for these features:

Technology Preview Features Support Scope

In the following tables, features are marked with the following statuses:

* Not Available
* Technology Preview
* General Availability
* Deprecated
* Removed

## Networking Technology Preview features



## Storage Technology Preview features



## Installation Technology Preview features



## Node Technology Preview features



## Multi-Architecture Technology Preview features



## Specialized hardware and driver enablement Technology Preview features



## Scalability and performance Technology Preview features



## Operator lifecycle and development Technology Preview features



## OpenShift CLI (oc) Technology Preview features



## Monitoring Technology Preview features



## Red Hat OpenStack Platform (RHOSP) Technology Preview features



## Hosted control planes Technology Preview features



## Machine management Technology Preview features



## Authentication and authorization Technology Preview features



## Machine Config Operator Technology Preview features



## Edge computing Technology Preview features



# Known issues

* The oc annotate command does not work for LDAP group names that contain an equal sign (=), because the command uses the equal sign as a delimiter between the annotation name and value. As a workaround, use oc patch or oc edit to add the annotation. (BZ#1917280)

# Asynchronous errata updates

Security, bug fix, and enhancement updates for Red Hat OpenShift Container Platform 4.17 are released as asynchronous errata through the Red&#160;Hat Network. All Red Hat OpenShift Container Platform 4.17 errata is available on the Red Hat Customer Portal. See the Red Hat OpenShift Container Platform Life Cycle for more information about asynchronous errata.

Red&#160;Hat Customer Portal users can enable errata notifications in the account settings for Red&#160;Hat Subscription Management (RHSM). When errata notifications are enabled, users are notified through email whenever new errata relevant to their registered systems are released.


[NOTE]
----
Red Hat Customer Portal user accounts must have systems registered and consuming Red Hat OpenShift Container Platform entitlements for Red Hat OpenShift Container Platform errata notification emails to generate.
----

This section will continue to be updated over time to provide notes on enhancements and bug fixes for future asynchronous errata releases of Red Hat OpenShift Container Platform 4.17. Versioned asynchronous releases, for example with the form Red Hat OpenShift Container Platform 4.17.z, will be detailed in subsections. In addition, releases in which the errata text cannot fit in the space provided by the advisory will be detailed in subsections that follow.


[IMPORTANT]
----
For any Red Hat OpenShift Container Platform release, always review the instructions on updating your cluster properly.
----

## RHSA-2024:XXXX - Red Hat OpenShift Container Platform 4.17.0 image release, bug fix, and security update advisory

Issued: TBD

Red Hat OpenShift Container Platform release 4.17.0, which includes security updates, is now available. The list of bug fixes that are included in the update is documented in the RHSA-2024:XXXX advisory. The RPM packages that are included in the update are provided by the RHSA-2024:XXXX advisory.

Space precluded documenting all of the container images for this release in the advisory.

You can view the container images in this release by running the following command:


```terminal
$ oc adm release info 4.17.0 --pullspecs
```
